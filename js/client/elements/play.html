<dom-module id="marklogic-play">
  <template>
    <uservices-method service-name="play" method-name="getPossibleAnswers" args="[]" result="{{answers}}"></uservices-method>
    <uservices-method service-name="play" method-name="getPremises" args="[]" result="{{premises}}"></uservices-method>
    <uservices-method service-name="play" method-name="submitAnswer" args="{{guess}}" result="{{isCorrect}}"></uservices-method>

    <paper-header-panel class="flex">
      <paper-toolbar>
        <div>Given the following statements:</div>
      </paper-toolbar>
    </paper-header-panel>

    <div>
      <template is="dom-repeat" items="{{formattedPremises}}">
        <paper-item>{{item}}</paper-item>
      </template>
    </div>


    <paper-dropdown-menu selected-item={{selectedAnswer}} label="Which conclusion feels right?">
      <paper-menu class="dropdown-content">
        <template is="dom-repeat" items="{{formattedAnswers}}">
          <paper-item id="{{item.id}}">{{item.title}}</paper-item>
        </template>
      </paper-menu>
    </paper-dropdown-menu>

    <paper-button on-click="submit" raised>Submit</paper-button>

    <div>
    <template is="dom-if" if="{{answeredCorrectly}}">
      <iframe width="420" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1" frameborder="0" allowfullscreen></iframe>
    </template>
    <template is="dom-if" if="{{answeredIncorrectly}}">
      This answer does not match our library of human emotion. Try again.
    </template>
    </div>

  </template>
</dom-module>

<script type="text/javascript" src="play.js"></script>
