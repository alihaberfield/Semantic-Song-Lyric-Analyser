var marklogic_1 = require('marklogic');
var Facet = (function () {
    function Facet() {
    }
    return Facet;
})();
exports.Facet = Facet;
function getFacetValues(client, facet, directory) {
    directory = directory || '/';
    if (directory.charAt(directory.length - 1) !== '/') {
        directory += '/';
    }
    var name, path;
    if (facet.path) {
        name = facet.name;
        path = facet.path;
    }
    else {
        var _facet = new facet();
        name = _facet.name;
        path = _facet.path;
    }
    return new Promise(function (resolve, reject) {
        client.documents.query(marklogic_1.queryBuilder.where(marklogic_1.queryBuilder.directory(directory))
            .calculate(marklogic_1.queryBuilder.facet(name, marklogic_1.queryBuilder.pathIndex(path)))
            .withOptions({ categories: 'none' })).result(function (results) {
            resolve(results[0].facets.categories.facetValues);
        }, function (e) {
            reject(e);
            return e;
        });
    });
}
exports.getFacetValues = getFacetValues;
//# sourceMappingURL=facet.js.map